---
title: "Housing Price vs. Supply 2024"
author: Stephanie Armstrong, Ilgaz Kuscu, Alexander D. Silberman, Baylee Wechsler
date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
---

## Todo:

- preliminary analysis

```{r}
rm(list=ls())
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      root.dir = "C:\\Users\\alexa\\Code\\GW DATS\\6101 Intro to Data Science\\Project 1\\GitHub",
                      warning = F, message = F)
options(scientific = T, digits = 3)
```

## Load requisite packages and data

```{r libraries}
library(ezids)
library(ggplot2)
library(dplyr)
```

This project uses the State and County Housing Market Indicators dataset from the American Enterprise Institute Housing Center, found [here](https://www.aei.org/the-state-of-the-housing-market/). The variables are:  

Variable |  Definition  
  :-:    |  :-- 
State	| state
County | County
FIPS | 5-digit Federal Information Processing Series codes (first 2 digits indicate state, last 3 indicate county or equivalent entity)
Year | Year when the data was collected
Tier | Categorizes home sales into entry-level (<=80th percentile of FHA sales prices), move-up (all others), and all
Median.Sale.Price..in.Thousands. | Median sale price in thousands of USD per county
House.Price.Appreciation.since.2012 | Cumulative home price appreciation since 2012
House.Price.Appreciation..Year.over.Year | Home price appreciation since the previous year
Months..Supply | Number of months it would take for the inventory of existing homes for sale to be exhausted at the current sales pace
New.Construction.Share.of.Sales | Percent of sales comprising new construction
Mortgage.Default.Rate | AEI Mortgage Default Rate, a measure of how loans originating in a given month would perform under the same conditions as the 2007 financial crisis (<=7%: Low Risk; between 7.01% and 14%: Medium Risk; >14%: High Risk)

```{r read_data}
housing = read.csv("..\\Data\\state_county_data_download_2025.csv")
housing %>% slice_sample(n=5)
```

The data is limited to the year 2024 and cleaned of NA values.

```{r clean_data}
housing_2024 = housing %>% filter(housing$Year == 2024) %>% na.omit
housing_2024$State = as.factor(housing_2024$State)
housing_2024$County = as.factor(housing_2024$County)
housing_2024$Tier = as.factor(housing_2024$Tier)
housing_2024 %>% slice_sample(n=5)
```

Take a look at the data

```{r}
xkablesummary(housing_2024)
```


